<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg viewBox="0 0 700 600" xmlns="http://www.w3.org/2000/svg">

  <!-- Background -->
  <rect class="map-background" width="700" height="600" fill="#f8f9fa" />
  
  <!-- River -->
  <g class="location" id="location-river" data-location="River">
    <path d="M0,400 
             C25,398 50,396 75,398
             C100,400 125,403 150,400 
             C165,398 180,400 195,410
             C210,420 220,430 230,442
             C240,454 248,465 255,475
             C262,485 270,490 280,495
             C290,500 305,502 320,505
             C330,507 335,515 338,525
             C341,535 342,545 345,555
             C348,565 352,575 355,580" 
          fill="none"
          stroke="#1E90FF" 
          stroke-width="10" 
          stroke-linecap="round" 
          stroke-linejoin="round" />
    <text x="100" y="420" class="location-text">River</text>
  </g>
        
  <!-- River Port -->
  <g class="location" id="location-river-port" data-location="River Port">
    <rect x="160" y="400" width="80" height="60" fill="#CD853F" stroke="#8B4513" stroke-width="2" />    
    <text x="200" y="473" class="location-text">River Port</text>
  </g>
  
  <!-- City Wall -->
  <g class="location" id="location-city-wall" data-location="City Wall">
    <rect x="150" y="120" width="400" height="360" fill="none" stroke="#8B4513" stroke-width="10" />
    <text x="180" y="110" class="location-text">City Wall</text>
  </g>
  
  <!-- City Gates -->
  <!-- North Gate -->
  <g class="location" id="location-north-gate" data-location="North Gate">
    <rect x="340" y="110" width="30" height="20" class="gate" />
    <text x="355" y="100" class="location-text">North Gate</text>
  </g>
  
  <!-- South Gate -->
  <g class="location" id="location-south-gate" data-location="South Gate">
    <rect x="340" y="470" width="30" height="20" class="gate" />
    <text x="355" y="505" class="location-text">South Gate</text>
  </g>
  
  <!-- East Gate -->
  <g class="location" id="location-east-gate" data-location="East Gate">
    <rect x="540" y="290" width="20" height="30" class="gate" />
    <text x="575" y="270" class="location-text" style="text-anchor: middle">
      <tspan x="575" dy="0">E</tspan>
      <tspan x="575" dy="14">A</tspan>
      <tspan x="575" dy="14">S</tspan>
      <tspan x="575" dy="14">T</tspan>
      <tspan x="575" dy="20">G</tspan>
      <tspan x="575" dy="14">A</tspan>
      <tspan x="575" dy="14">T</tspan>
      <tspan x="575" dy="14">E</tspan>
    </text>
  </g>
  
  <!-- West Gate -->
  <g class="location" id="location-west-gate" data-location="West Gate">
    <rect x="140" y="290" width="20" height="30" class="gate" />
    <text x="100" y="305" class="location-text">West Gate</text>
  </g>
  
  <!-- Forest (full length outside Eastern wall) -->
  <g class="location" id="location-forest" data-location="Forest">
    <ellipse cx="620" cy="300" rx="40" ry="180" fill="#90EE90" />
    <!-- Trees -->
    <circle cx="605" cy="200" r="15" fill="#228B22" />
    <circle cx="635" cy="230" r="17" fill="#228B22" />
    <circle cx="610" cy="280" r="20" fill="#228B22" />
    <circle cx="640" cy="330" r="18" fill="#228B22" />
    <circle cx="605" cy="370" r="15" fill="#228B22" />
    <circle cx="630" cy="410" r="16" fill="#228B22" />
    <text x="620" y="500" class="location-text">Forest</text>
  </g>
  
  <!-- Mines (north of Western gate, not touching the wall) -->
  <g class="location" id="location-mines" data-location="Mines">
    <path d="M45,200 L85,175 L125,200 L125,240 L85,265 L45,240 Z" fill="#808080" stroke="#696969" stroke-width="2" />
    <circle cx="65" cy="205" r="7" fill="#2F4F4F" /> <!-- Mine entrance -->
    <text x="85" y="280" class="location-text">Mines</text>
  </g>
  
  <!-- City Square -->
  <g class="location" id="location-city-square" data-location="City Square">
    <rect x="320" y="255" width="80" height="80" fill="#D3D3D3" stroke="#A9A9A9" stroke-width="2" />
    <text x="360" y="350" class="location-text">City Square</text>
  </g>
  
  <!-- Inn -->
  <g class="location" id="location-inn" data-location="Inn">
    <rect x="390" y="190" width="60" height="45" fill="#CD853F" />
    <polygon points="390,190 420,160 450,190" fill="#8B4513" />
    <text x="420" y="250" class="location-text">Inn</text>
  </g>
  
  <!-- Stables (attached to the Inn on the east) -->
  <g class="location" id="location-stables" data-location="Stables">
    <rect x="450" y="190" width="50" height="45" fill="#B8860B" />
    <rect x="455" y="195" width="40" height="35" fill="#F5DEB3" />
    <text x="475" y="250" class="location-text">Stables</text>
  </g>
  
  <!-- Market -->
  <g class="location" id="location-market" data-location="Market">
    <g transform="translate(250, 300)">
      <rect x="-40" y="-30" width="80" height="60" fill="#F5DEB3" stroke="#DEB887" stroke-width="2" />
      <!-- Market stalls -->
      <rect x="-35" y="-25" width="15" height="15" fill="#DEB887" />
      <rect x="-15" y="-25" width="15" height="15" fill="#DEB887" />
      <rect x="5" y="-25" width="15" height="15" fill="#DEB887" />
      <rect x="25" y="-25" width="15" height="15" fill="#DEB887" />
      <rect x="-35" y="0" width="15" height="15" fill="#DEB887" />
      <rect x="-15" y="0" width="15" height="15" fill="#DEB887" />
      <rect x="5" y="0" width="15" height="15" fill="#DEB887" />
      <rect x="25" y="0" width="15" height="15" fill="#DEB887" />
    </g>
    <text x="250" y="350" class="location-text">Market</text>
  </g>
  
  <!-- Blacksmith (inside western wall, north of gate) -->
  <g class="location" id="location-blacksmith" data-location="Blacksmith">
    <rect x="155" y="200" width="50" height="45" fill="#696969" />
    <text x="205" y="260" class="location-text">Blacksmith</text>
  </g>
  
  <!-- Temple (Moved closer to Southern Gate) -->
  <g class="location" id="location-temple" data-location="Temple">
    <rect x="370" y="380" width="60" height="75" fill="#F5F5F5" stroke="#D3D3D3" stroke-width="2" />
    <!-- Temple dome -->
    <ellipse cx="400" cy="380" rx="30" ry="15" fill="#E0E0E0" stroke="#D3D3D3" stroke-width="1" />
    <!-- Temple steps -->
    <rect x="380" y="455" width="40" height="7" fill="#E0E0E0" />
    <text x="400" y="475" class="location-text">Temple</text>
  </g>
  
  <!-- Library -->
  <g class="location" id="location-library" data-location="Library">
    <rect x="460" y="320" width="65" height="50" fill="#A0522D" />
    <!-- Library roof -->
    <polygon points="460,320 492.5,290 525,320" fill="#8B4513" />
    <!-- Library columns -->
    <rect x="467" y="320" width="7" height="50" fill="#F5F5DC" />
    <rect x="489" y="320" width="7" height="50" fill="#F5F5DC" />
    <rect x="511" y="320" width="7" height="50" fill="#F5F5DC" />
    <text x="492" y="385" class="location-text">Library</text>
  </g>
  
  
  
  <!-- Farmlands (added East of River) -->
  <g class="location" id="location-farmlands-east" data-location="Farmlands">
    <rect x="380" y="510" width="150" height="70" fill="#FFEFD5" />
    <!-- Crops -->
    <line x1="390" y1="520" x2="390" y2="570" stroke="#8B4513" stroke-width="1" />
    <line x1="410" y1="520" x2="410" y2="570" stroke="#8B4513" stroke-width="1" />
    <line x1="430" y1="520" x2="430" y2="570" stroke="#8B4513" stroke-width="1" />
    <line x1="450" y1="520" x2="450" y2="570" stroke="#8B4513" stroke-width="1" />
    <line x1="470" y1="520" x2="470" y2="570" stroke="#8B4513" stroke-width="1" />
    <line x1="490" y1="520" x2="490" y2="570" stroke="#8B4513" stroke-width="1" />
    <line x1="510" y1="520" x2="510" y2="570" stroke="#8B4513" stroke-width="1" />
    <!-- Farmhouse -->
    <rect x="420" y="535" width="20" height="15" fill="#8B4513" />
    <polygon points="420,535 430,525 440,535" fill="#A52A2A" />
    <text x="420" y="590" class="location-text">Farmlands</text>
  </g>

  <!-- Title -->
  <text x="350" y="50" text-anchor="middle" font-size="24" font-weight="bold" fill="#333">Everlyn City Map</text>
  
  <!-- Legend -->
  <rect x="40" y="540" width="150" height="30" fill="#8B4513" stroke="none" opacity="0.7" />
  <text x="115" y="560" text-anchor="middle" fill="white" font-size="14">City Wall</text>
</svg>